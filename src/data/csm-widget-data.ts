// ATC CSM (Customer Success Manager) Widget Demo Data
// Jordan Taylor persona-specific data for customer success management

import type {
  ClientHealthDashboardData,
  RenewalPipelineData,
  UpsellOpportunitiesData,
  ProductAdoptionMetricsData,
  CSMInsightsDashboardData,
  CSMTrainingDashboardData,
  DoraMetricsData,
} from '@/types/widget';

// Client Health Dashboard Demo Data
export const clientHealthDashboardDemo: ClientHealthDashboardData = {
  title: 'Client Health Dashboard',
  period: 'November 2024',
  customersAnalyzed: 24,
  healthMetrics: [
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      arr: '$450,000',
      healthScore: 92,
      healthLevel: 'excellent',
      lastUpdated: '2024-11-20',
      trendDirection: 'up',
      scoreComponents: {
        productAdoption: 95,
        supportTickets: 88,
        paymentHealth: 100,
        renewalLikelihood: 94,
      },
      riskFactors: [],
      recommendations: [
        { priority: 'low', action: 'Schedule QBR to discuss expansion opportunities' },
      ],
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      arr: '$320,000',
      healthScore: 78,
      healthLevel: 'good',
      lastUpdated: '2024-11-19',
      trendDirection: 'stable',
      scoreComponents: {
        productAdoption: 82,
        supportTickets: 75,
        paymentHealth: 100,
        renewalLikelihood: 80,
      },
      riskFactors: ['Support ticket volume increased 15%'],
      recommendations: [
        { priority: 'medium', action: 'Review recent support tickets for patterns' },
        { priority: 'low', action: 'Offer training session on new features' },
      ],
    },
    {
      customerId: 'CUST-003',
      customerName: 'Global Solutions Ltd',
      arr: '$580,000',
      healthScore: 54,
      healthLevel: 'at-risk',
      lastUpdated: '2024-11-20',
      trendDirection: 'down',
      scoreComponents: {
        productAdoption: 45,
        supportTickets: 42,
        paymentHealth: 100,
        renewalLikelihood: 55,
      },
      riskFactors: [
        'Product adoption dropped 20% MoM',
        '5 critical tickets in past 30 days',
        'Key stakeholder left company',
      ],
      recommendations: [
        { priority: 'high', action: 'Schedule urgent executive review' },
        { priority: 'high', action: 'Deploy customer success specialist on-site' },
        { priority: 'medium', action: 'Create custom success plan' },
      ],
    },
    {
      customerId: 'CUST-004',
      customerName: 'DataDrive Systems',
      arr: '$890,000',
      healthScore: 35,
      healthLevel: 'critical',
      lastUpdated: '2024-11-20',
      trendDirection: 'down',
      scoreComponents: {
        productAdoption: 28,
        supportTickets: 25,
        paymentHealth: 60,
        renewalLikelihood: 30,
      },
      riskFactors: [
        'Payment 45 days overdue',
        'Usage dropped 65% in 60 days',
        'No executive engagement in 90 days',
        'Competitor evaluation in progress',
      ],
      recommendations: [
        { priority: 'high', action: 'Immediate escalation to VP of Customer Success' },
        { priority: 'high', action: 'Executive-to-executive outreach today' },
        { priority: 'high', action: 'Prepare retention package with 20% discount' },
      ],
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      arr: '$275,000',
      healthScore: 85,
      healthLevel: 'good',
      lastUpdated: '2024-11-18',
      trendDirection: 'up',
      scoreComponents: {
        productAdoption: 88,
        supportTickets: 82,
        paymentHealth: 100,
        renewalLikelihood: 90,
      },
      riskFactors: [],
      recommendations: [
        { priority: 'low', action: 'Explore enterprise tier upgrade' },
      ],
    },
  ],
  overallHealthTrend: {
    labels: ['Aug', 'Sep', 'Oct', 'Nov'],
    datasets: [
      { label: 'Avg Health Score', data: [76, 78, 74, 72] },
      { label: 'At-Risk Customers', data: [2, 2, 3, 4] },
    ],
  },
};

// Renewal Pipeline Demo Data
export const renewalPipelineDemo: RenewalPipelineData = {
  title: 'Renewal Pipeline',
  period: 'Q4 2024 - Q1 2025',
  renewalCount: 12,
  totalArr: 4250000,
  renewals: [
    {
      customerId: 'CUST-004',
      customerName: 'DataDrive Systems',
      currentArr: 890000,
      renewalDate: '2024-12-15',
      daysUntilRenewal: 25,
      status: 'critical',
      expansionOpportunity: 0,
      renewalLikelihood: 30,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-10-15',
      actionItems: [
        'Executive escalation required',
        'Prepare competitive response',
        'Schedule emergency QBR',
      ],
    },
    {
      customerId: 'CUST-003',
      customerName: 'Global Solutions Ltd',
      currentArr: 580000,
      renewalDate: '2025-01-31',
      daysUntilRenewal: 72,
      status: 'at-risk',
      expansionOpportunity: 50000,
      renewalLikelihood: 55,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-10',
      actionItems: [
        'Address adoption concerns',
        'Connect new stakeholder',
        'Provide ROI analysis',
      ],
    },
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      currentArr: 450000,
      renewalDate: '2025-02-28',
      daysUntilRenewal: 100,
      status: 'on-track',
      expansionOpportunity: 150000,
      renewalLikelihood: 94,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-18',
      actionItems: [
        'Discuss enterprise expansion',
        'Present new product features',
      ],
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      currentArr: 320000,
      renewalDate: '2025-03-15',
      daysUntilRenewal: 115,
      status: 'on-track',
      expansionOpportunity: 80000,
      renewalLikelihood: 80,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-12',
      actionItems: [
        'Resolve open support tickets',
        'Schedule training session',
      ],
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      currentArr: 275000,
      renewalDate: '2025-04-30',
      daysUntilRenewal: 161,
      status: 'on-track',
      expansionOpportunity: 125000,
      renewalLikelihood: 90,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-15',
      actionItems: [
        'Present enterprise tier benefits',
      ],
    },
  ],
  summary: {
    upcomingMonth: 1,
    upcomingQuarter: 4,
    atRisk: 2,
    highValue: 3,
  },
};

// Upsell Opportunities Demo Data
export const upsellOpportunitiesDemo: UpsellOpportunitiesData = {
  title: 'Upsell & Expansion Opportunities',
  totalOpportunities: 8,
  totalPotentialRevenue: 685000,
  opportunities: [
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      currentArr: 450000,
      opportunityType: 'tier-upgrade',
      suggestedProduct: 'Enterprise Plus Tier',
      estimatedRevenue: 150000,
      confidence: 85,
      reasons: [
        'Exceeded user limit by 20%',
        'Heavy API usage indicates growth',
        'Requested advanced analytics features',
      ],
      buyingSignals: [
        'VP Engineering asked about enterprise features',
        'IT team evaluating SSO integration',
        'Budget cycle starts January',
      ],
      nextSteps: [
        'Schedule demo of Enterprise Plus features',
        'Prepare ROI comparison document',
        'Connect with procurement team',
      ],
      timelineToClose: '60 days',
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      currentArr: 275000,
      opportunityType: 'add-on',
      suggestedProduct: 'Advanced Analytics Module',
      estimatedRevenue: 75000,
      confidence: 78,
      reasons: [
        'Frequent data export requests',
        'Asked about custom reporting',
        'Growing data team',
      ],
      buyingSignals: [
        'Data team expanded by 40%',
        'CTO mentioned data-driven initiatives',
      ],
      nextSteps: [
        'Demo analytics capabilities',
        'Provide trial access',
        'Share customer success stories',
      ],
      timelineToClose: '45 days',
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      currentArr: 320000,
      opportunityType: 'cross-sell',
      suggestedProduct: 'Integration Platform',
      estimatedRevenue: 80000,
      confidence: 65,
      reasons: [
        'Manual data sync complaints',
        'Uses 5+ external tools',
        'Integration pain points noted in support tickets',
      ],
      buyingSignals: [
        'Asked about API capabilities',
        'Support tickets mention workflow automation',
      ],
      nextSteps: [
        'Map current integration needs',
        'Present integration ROI',
        'Offer pilot program',
      ],
      timelineToClose: '90 days',
    },
    {
      customerId: 'CUST-006',
      customerName: 'NextGen Retail',
      currentArr: 180000,
      opportunityType: 'new-product',
      suggestedProduct: 'Mobile Commerce Suite',
      estimatedRevenue: 120000,
      confidence: 72,
      reasons: [
        'Retail industry focus',
        '60% of their traffic is mobile',
        'Competitor using mobile tools',
      ],
      buyingSignals: [
        'CEO mentioned mobile strategy',
        'Recent mobile team hires',
      ],
      nextSteps: [
        'Schedule mobile strategy consultation',
        'Share retail case studies',
        'Propose pilot for one store',
      ],
      timelineToClose: '75 days',
    },
  ],
  byType: {
    tierUpgrade: 2,
    addOn: 3,
    crossSell: 2,
    newProduct: 1,
  },
};

// Product Adoption Metrics Demo Data
export const productAdoptionMetricsDemo: ProductAdoptionMetricsData = {
  title: 'Product Adoption Metrics',
  period: 'Last 30 Days',
  customersTracked: 24,
  metrics: [
    {
      customerId: 'CUST-004',
      customerName: 'DataDrive Systems',
      currentAdoptionRate: 28,
      previousAdoptionRate: 65,
      trend: 'declining',
      trendPercentage: -57,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 35, trend: 'down' },
        { feature: 'Reports', usageRate: 22, trend: 'down' },
        { feature: 'API', usageRate: 45, trend: 'down' },
        { feature: 'Integrations', usageRate: 10, trend: 'down' },
      ],
      loginsPerMonth: 45,
      activeUsers: 12,
      totalLicenses: 100,
      utilizationRate: 12,
      riskLevel: 'critical',
      recommendations: [
        'Immediate outreach to key stakeholders',
        'Identify blockers preventing usage',
        'Offer dedicated onboarding refresh',
      ],
    },
    {
      customerId: 'CUST-003',
      customerName: 'Global Solutions Ltd',
      currentAdoptionRate: 45,
      previousAdoptionRate: 62,
      trend: 'declining',
      trendPercentage: -27,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 55, trend: 'down' },
        { feature: 'Reports', usageRate: 40, trend: 'down' },
        { feature: 'API', usageRate: 35, trend: 'stable' },
        { feature: 'Integrations', usageRate: 50, trend: 'down' },
      ],
      loginsPerMonth: 120,
      activeUsers: 35,
      totalLicenses: 75,
      utilizationRate: 47,
      riskLevel: 'high',
      recommendations: [
        'Connect with new stakeholder champion',
        'Provide feature-specific training',
        'Share best practices from similar customers',
      ],
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      currentAdoptionRate: 72,
      previousAdoptionRate: 75,
      trend: 'stable',
      trendPercentage: -4,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 85, trend: 'stable' },
        { feature: 'Reports', usageRate: 70, trend: 'stable' },
        { feature: 'API', usageRate: 60, trend: 'up' },
        { feature: 'Integrations', usageRate: 73, trend: 'stable' },
      ],
      loginsPerMonth: 250,
      activeUsers: 42,
      totalLicenses: 50,
      utilizationRate: 84,
      riskLevel: 'medium',
      recommendations: [
        'Encourage adoption of underutilized features',
        'Highlight workflow automation benefits',
      ],
    },
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      currentAdoptionRate: 92,
      previousAdoptionRate: 88,
      trend: 'improving',
      trendPercentage: 5,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 95, trend: 'up' },
        { feature: 'Reports', usageRate: 92, trend: 'up' },
        { feature: 'API', usageRate: 88, trend: 'up' },
        { feature: 'Integrations', usageRate: 93, trend: 'stable' },
      ],
      loginsPerMonth: 450,
      activeUsers: 85,
      totalLicenses: 100,
      utilizationRate: 85,
      riskLevel: 'low',
      recommendations: [
        'Recognize as power user for case study',
        'Invite to beta program for new features',
      ],
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      currentAdoptionRate: 85,
      previousAdoptionRate: 80,
      trend: 'improving',
      trendPercentage: 6,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 90, trend: 'up' },
        { feature: 'Reports', usageRate: 88, trend: 'up' },
        { feature: 'API', usageRate: 75, trend: 'up' },
        { feature: 'Integrations', usageRate: 87, trend: 'stable' },
      ],
      loginsPerMonth: 180,
      activeUsers: 32,
      totalLicenses: 40,
      utilizationRate: 80,
      riskLevel: 'low',
      recommendations: [
        'Explore API expansion use cases',
        'Discuss enterprise tier benefits',
      ],
    },
  ],
  adoptionTrend: {
    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
    datasets: [
      { label: 'Overall Adoption', data: [68, 65, 62, 60] },
      { label: 'Declining Accounts', data: [2, 2, 3, 4] },
    ],
  },
};

// CSM Insights Dashboard Demo Data
export const csmInsightsDashboardDemo: CSMInsightsDashboardData = {
  title: 'AI-Powered Customer Insights',
  period: 'November 2024',
  insights: [
    {
      id: 'INS-001',
      category: 'churn-risk',
      priority: 'critical',
      title: 'DataDrive Systems showing pre-churn signals',
      description: 'Multiple indicators suggest DataDrive is evaluating competitors. Login activity down 65%, support tickets increased, and contract renewal in 25 days.',
      impactedCustomers: 1,
      impactedArr: 890000,
      recommendedAction: 'Schedule executive-to-executive meeting within 48 hours to address concerns',
      confidence: 92,
      dataPoints: ['65% login decrease', '5 escalated tickets', 'Competitor demo scheduled', 'Key champion left'],
    },
    {
      id: 'INS-002',
      category: 'upsell',
      priority: 'high',
      title: 'Acme Corporation ready for Enterprise tier',
      description: 'Usage patterns indicate Acme has outgrown their current plan. API calls exceeding limits, requesting enterprise features.',
      impactedCustomers: 1,
      impactedArr: 150000,
      recommendedAction: 'Present Enterprise tier proposal with ROI analysis',
      confidence: 85,
      dataPoints: ['API usage at 120% of limit', 'SSO requests', 'Budget approval Q1'],
    },
    {
      id: 'INS-003',
      category: 'engagement',
      priority: 'high',
      title: 'Global Solutions stakeholder change risk',
      description: 'Key decision maker left the company. New stakeholder has not been engaged. Adoption declining.',
      impactedCustomers: 1,
      impactedArr: 580000,
      recommendedAction: 'Identify and engage new champion within 2 weeks',
      confidence: 78,
      dataPoints: ['Stakeholder departure', 'No exec engagement 45 days', '27% adoption decline'],
    },
    {
      id: 'INS-004',
      category: 'adoption',
      priority: 'medium',
      title: '4 accounts underutilizing analytics module',
      description: 'Analytics module purchased but usage below 30%. Training opportunity to increase value realization.',
      impactedCustomers: 4,
      impactedArr: 120000,
      recommendedAction: 'Schedule analytics training sessions for these accounts',
      confidence: 88,
      dataPoints: ['<30% feature usage', 'No dashboard customization', 'Positive NPS scores'],
    },
    {
      id: 'INS-005',
      category: 'satisfaction',
      priority: 'low',
      title: 'Innovate Inc NPS improved to 9',
      description: 'After recent training and feature adoption, NPS score improved from 7 to 9. Good candidate for case study.',
      impactedCustomers: 1,
      impactedArr: 275000,
      recommendedAction: 'Request customer testimonial and case study participation',
      confidence: 95,
      dataPoints: ['NPS: 7 â†’ 9', 'Support tickets down 40%', 'Feature adoption up 25%'],
    },
  ],
  summary: {
    totalInsights: 12,
    criticalInsights: 2,
    highPriorityInsights: 4,
    potentialArrImpact: 2015000,
    customersRequiringAction: 8,
  },
  trendData: {
    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
    datasets: [
      { label: 'Critical Insights', data: [1, 1, 2, 2] },
      { label: 'Resolved Insights', data: [3, 5, 4, 6] },
    ],
  },
};

// CSM Training Dashboard Demo Data
export const csmTrainingDashboardDemo: CSMTrainingDashboardData = {
  title: 'Customer Training Management',
  period: 'November 2024',
  trainingSessions: [
    {
      id: 'TRN-001',
      customerName: 'DataDrive Systems',
      customerId: 'CUST-004',
      trainingType: 'refresher',
      status: 'scheduled',
      scheduledDate: '2024-11-25',
      duration: '90 minutes',
      attendees: 15,
      topics: ['Dashboard Optimization', 'Advanced Reporting', 'API Best Practices'],
      trainer: 'Jordan Taylor',
      notes: 'Critical - part of churn prevention strategy',
    },
    {
      id: 'TRN-002',
      customerName: 'Global Solutions Ltd',
      customerId: 'CUST-003',
      trainingType: 'onboarding',
      status: 'scheduled',
      scheduledDate: '2024-11-26',
      duration: '2 hours',
      attendees: 8,
      topics: ['Platform Overview', 'User Management', 'Integration Setup'],
      trainer: 'Jordan Taylor',
      notes: 'New stakeholder onboarding after champion departure',
    },
    {
      id: 'TRN-003',
      customerName: 'Acme Corporation',
      customerId: 'CUST-001',
      trainingType: 'advanced',
      status: 'completed',
      scheduledDate: '2024-11-18',
      duration: '2 hours',
      attendees: 12,
      topics: ['Enterprise Features Preview', 'SSO Configuration', 'Advanced Analytics'],
      trainer: 'Jordan Taylor',
      completionRate: 100,
      satisfactionScore: 4.8,
    },
    {
      id: 'TRN-004',
      customerName: 'TechFlow Industries',
      customerId: 'CUST-002',
      trainingType: 'feature-adoption',
      status: 'completed',
      scheduledDate: '2024-11-15',
      duration: '60 minutes',
      attendees: 6,
      topics: ['Workflow Automation', 'Custom Integrations'],
      trainer: 'Jordan Taylor',
      completionRate: 95,
      satisfactionScore: 4.5,
    },
    {
      id: 'TRN-005',
      customerName: 'Innovate Inc',
      customerId: 'CUST-005',
      trainingType: 'best-practices',
      status: 'completed',
      scheduledDate: '2024-11-12',
      duration: '75 minutes',
      attendees: 10,
      topics: ['Data Governance', 'Team Collaboration', 'Reporting Best Practices'],
      trainer: 'Jordan Taylor',
      completionRate: 100,
      satisfactionScore: 4.9,
    },
  ],
  upcomingCount: 4,
  completedThisMonth: 8,
  averageSatisfaction: 4.7,
  topRequestedTopics: [
    { topic: 'Advanced Analytics', requestCount: 12 },
    { topic: 'API Integration', requestCount: 9 },
    { topic: 'Workflow Automation', requestCount: 8 },
    { topic: 'Custom Reporting', requestCount: 6 },
  ],
  customersNeedingTraining: [
    {
      customerId: 'CUST-004',
      customerName: 'DataDrive Systems',
      reason: 'Declining adoption - 65% usage drop in 60 days',
      priority: 'high',
      suggestedTopics: ['Platform Refresher', 'New Feature Overview', 'ROI Maximization'],
    },
    {
      customerId: 'CUST-003',
      customerName: 'Global Solutions Ltd',
      reason: 'New stakeholder requires onboarding',
      priority: 'high',
      suggestedTopics: ['Executive Overview', 'Strategic Value', 'Success Metrics'],
    },
    {
      customerId: 'CUST-007',
      customerName: 'CloudFirst Corp',
      reason: 'Recently purchased analytics module - 0% usage',
      priority: 'medium',
      suggestedTopics: ['Analytics Fundamentals', 'Dashboard Creation', 'Data Visualization'],
    },
  ],
};

// DORA Metrics Dashboard Demo Data
export const doraMetricsDemo: DoraMetricsData = {
  title: 'DORA Metrics Dashboard',
  period: 'Last 30 Days',
  team: 'Platform Engineering',
  overallPerformance: 'high',
  deploymentFrequency: {
    value: '4.2',
    unit: 'deploys/day',
    target: '3+ per day',
    trend: 'up',
    change: '+15% from last month',
    status: 'excellent',
  },
  leadTime: {
    value: '2.4',
    unit: 'hours',
    target: '<4 hours',
    trend: 'down',
    change: '-22% from last month',
    status: 'excellent',
  },
  changeFailureRate: {
    value: 8.5,
    target: 15,
    trend: 'down',
    change: '-3.2% from last month',
    status: 'good',
  },
  mttr: {
    value: '45',
    unit: 'minutes',
    target: '<1 hour',
    trend: 'down',
    change: '-18% from last month',
    status: 'excellent',
  },
  insights: [
    {
      type: 'positive',
      message: 'Deployment frequency exceeds elite performance threshold (multiple deploys per day)',
    },
    {
      type: 'positive',
      message: 'Lead time for changes is well within target, enabling rapid iteration',
    },
    {
      type: 'warning',
      message: 'Change failure rate trending down but still above elite threshold (<5%)',
    },
    {
      type: 'positive',
      message: 'Mean time to recovery is excellent, minimizing customer impact during incidents',
    },
  ],
  recentIncidents: [
    {
      title: 'API Gateway Timeout',
      date: '2024-11-15',
      duration: '32 minutes',
      impact: 'Partial service degradation',
      resolved: true,
    },
    {
      title: 'Database Connection Pool Exhaustion',
      date: '2024-11-08',
      duration: '58 minutes',
      impact: 'High latency for write operations',
      resolved: true,
    },
    {
      title: 'CDN Cache Invalidation Failure',
      date: '2024-11-03',
      duration: '15 minutes',
      impact: 'Stale content served to 12% of users',
      resolved: true,
    },
  ],
};
